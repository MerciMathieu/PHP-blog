{% extends "base.html.twig" %}

{% block title %}Blog - {{ parent() }}{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" type="text/css" href="/css/blog/blog.css">
{% endblock %}

{% block content %}

    <section id="last-articles">
        <div class="container">
            <h1 class="text-center mb-5">Derniers articles</h1>

            {% for post in posts %}
                <div class="articles my-5">
                    <div class="article bg-white my-5">
                        <div class="article-body">
                            <h2 class="article-header article-title font-weight-bold ml-4">{{ post.title }}</h2>
                            <small class="text-muted ml-4"><i class="far fa-clock mr-2"></i>
                                {% if post.updatedAt %}
                                    Modifié le {{ post.updatedAt|date('d-m-Y à H:i:s') }}
                                {% else %}
                                    Publié le {{ post.createdAt|date('d-m-Y à H:i:s') }}
                                {% endif %}
                            </small><br />
                            <small class="text-muted text-center ml-4"><i class="fas fa-user mr-2"></i>
                                Par {{ post.author.firstName }} {{ post.author.lastName }}
                            </small>
                            <div class="article-content mt-5">
                                {% if post.imageUrl %}
                                    <img src="{{ post.imageUrl }}" class="mr-5 img-fluid" alt="{{ post.title }}">
                                {% endif %}
                                <p class="article-text">{{ post.intro }}</p>
                            </div>
                            <a href="/post/{{ post.id }}">Lire l'article<i class="fas fa-angle-right"></i></a>
                        </div>
                    </div>
                </div>
            {% endfor %}

        </div>
    </section>
    
{% endblock %}


